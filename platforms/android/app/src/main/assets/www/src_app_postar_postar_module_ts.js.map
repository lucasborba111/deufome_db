{"version":3,"file":"src_app_postar_postar_module_ts.js","mappings":"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","sources":["./src/app/loading.service.ts","./src/app/postar/postar-routing.module.ts","./src/app/postar/postar.module.ts","./src/app/postar/postar.page.ts","./src/app/postar/postar.page.html"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LoadingService {\r\n  toast: any;\r\n\r\n  constructor(private toastCtrl: ToastController) { }\r\n\r\n  async presentToast(message) {\r\n\r\n    this.toast = true;\r\n    return await this.toastCtrl.create({\r\n      message: message,\r\n      duration: 3000,\r\n      position: 'bottom'\r\n    }).then(a => {\r\n\r\n      a.present().then(() => {\r\n        console.log('presented');\r\n        if (!this.toast) {\r\n          a.dismiss().then(() => console.log('abort presenting'));\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostarPage } from './postar.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostarPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostarPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostarPageRoutingModule } from './postar-routing.module';\r\n\r\nimport { PostarPage } from './postar.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostarPageRoutingModule\r\n  ],\r\n  declarations: [PostarPage]\r\n})\r\nexport class PostarPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\n\r\nimport firebase from 'firebase/app';\r\nimport { Storage } from '@ionic/storage';\r\nimport firebaseConfig from '../firebase/firebase';\r\nimport { LoadingService } from '../loading.service';\r\nimport { AuthService } from '../services/auth.service';\r\nimport {File} from '@ionic-native/file/ngx';\r\nimport {Platform} from '@ionic/angular'\r\nimport {AngularFireStorage} from '@angular/fire/storage';\r\nimport {Observable} from 'rxjs';\r\nimport {finalize} from 'rxjs/operators'\r\nimport { LoadingController, NavController } from '@ionic/angular';\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-postar',\r\n  templateUrl: './postar.page.html',\r\n  styleUrls: ['./postar.page.scss'],\r\n})\r\nexport class PostarPage implements OnInit {\r\n  public downloadUrl: Observable<string>;\r\n  constructor(\r\n    private storage: Storage,\r\n    private afStorage: AngularFireStorage,\r\n    private camera: Camera,\r\n    private navCtrl: NavController,\r\n    private loading : LoadingService,\r\n    private auth: AuthService,\r\n    private file: File,\r\n    private platform: Platform,\r\n\r\n    private loadingCtrl: LoadingController,\r\n\r\n    ) { }\r\n\r\n // cameraOptions: CameraOptions = {\r\n    //quality: 100,\r\n  //  allowEdit: false,\r\n   // correctOrientation: true,\r\n    //destinationType: this.camera.DestinationType.FILE_URI,\r\n   // encodingType: this.camera.EncodingType.JPEG,\r\n   // mediaType: this.camera.MediaType.PICTURE\r\n // }\r\n\r\nasync openGalery(){\r\n  const loading = await this.loadingCtrl.create({\r\n    message: 'Carregando imagem...',\r\n    spinner: 'bubbles',\r\n    cssClass: 'teste',\r\n    showBackdrop: true,\r\n    duration: 6000,\r\n  });\r\n  loading.present();\r\n\r\n  const options: CameraOptions = {\r\n    sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\r\n    destinationType: this.camera.DestinationType.FILE_URI,\r\n    quality: 100,\r\n    allowEdit: true,\r\n    encodingType: this.camera.EncodingType.JPEG,\r\n    mediaType: this.camera.MediaType.PICTURE,\r\n    correctOrientation: true\r\n  }\r\n\r\n \r\n  \r\n  try{\r\n    const fileUri: string = await this.camera.getPicture(options);\r\n    \r\n    let file: string;\r\n    if(this.platform.is('ios')){\r\n    file = fileUri.split('/').pop();\r\n    }\r\n  \r\n    else{\r\n    file = fileUri.substring(fileUri.lastIndexOf('/') + 1, fileUri.indexOf('?'));\r\n    }\r\n    const path: string = fileUri.substring(0, fileUri.lastIndexOf('/'));\r\n    const buffer: ArrayBuffer = await this.file.readAsArrayBuffer(path, file);\r\n    const blob: Blob = new Blob([buffer],{type: 'image/jpeg'});\r\n    this.uploadPicture(blob)\r\n    \r\n    }\r\n    catch (error){\r\n      console.error(error);\r\n    }\r\n}\r\n\r\n\r\n\r\n  post = {\r\n    tipo: '',\r\n    photo: '',\r\n    titulo: '',\r\n    ingredientes: '',\r\n    modopreparo: '',\r\n    usuario: '',\r\n    estrela1:0,\r\n    estrela2:0,\r\n    estrela3:0,\r\n    estrela4: 0,\r\n    estrela5:0,\r\n    nota:0,\r\n  }\r\n\r\n  posts = []\r\n\r\n  //async choosePhotos(){\r\n  //  let alertBox = await this.alertCtrl.create({\r\n  //    header: 'Choose from',\r\n  //    buttons: [\r\n    //    {\r\n    //     text: 'Camera',\r\n      //    handler: () => {\r\n      //      this.camera.getPicture(this.cameraOptions).then(res=>{\r\n       //       console.log('response = ', res);\r\n        //      let finalImg = this.webview.convertFileSrc(res);\r\n         //    console.log('finalImg = ', finalImg);\r\n          //    this.post.photo = finalImg;\r\n           //   this.uploadImage(finalImg);\r\n           // })\r\n          //}\r\n        //},\r\n        //{\r\n          //text: 'Gallery',\r\n         // handler: () => {\r\n           // this.camera.getPicture(this.galleryOptions).then(res=>{\r\n            //  console.log('response =', res);\r\n             /// let finalImg = this.webview.convertFileSrc(res);\r\n              //this.post.photo = finalImg;\r\n             // this.uploadImage(finalImg);\r\n              //console.log('finalImg = ', finalImg);\r\n\r\n            //})\r\n        //  }\r\n        //},\r\n     // ],\r\n   // })\r\n\r\n  //  await alertBox.present();\r\n  //}\r\n  \r\n  uploadPicture(blob: Blob){\r\n    let randomname = this.randomnumberGenerator();\r\n    const ref = this.afStorage.ref('posts/' + randomname);\r\n    const task = ref.put(blob);\r\n      task.snapshotChanges().pipe(\r\n        finalize(() => {\r\n            ref.getDownloadURL().subscribe(data => {\r\n                console.log(`URL: ${data}`);\r\n                this.post.photo = data;\r\n            });\r\n        })\r\n    ).subscribe();\r\n    console.log(this.downloadUrl);\r\n    //console.log('image = ', image);\r\n    //let randomname = this.randomnumberGenerator();\r\n    //return new Promise<any>((resolve, reject) =>{\r\n    //  let storageRef = firebase.storage().ref();\r\n     // let imageRef = storageRef.child('posts/' + randomname);\r\n     // console.log(randomname);\r\n     // this.toDataURL(image, (dataUrl) =>{\r\n      //  console.log(dataUrl);\r\n      //  imageRef.putString(dataUrl, 'data_url')\r\n       // .then(snapshot => {\r\n        \r\n         //imageRef.getDownloadURL().then(url=>{\r\n        //    console.log(url);\r\n        //    this.post.photo = url;\r\n        //  });\r\n        //}, err =>{\r\n        //  reject(err);\r\n        //})\r\n      }//)\r\n    //})\r\n  //}\r\n\r\n  //toDataURL(url, callback) {\r\n   // var xhr = new XMLHttpRequest();\r\n   // xhr.onload = function() {\r\n   //   var reader = new FileReader();\r\n   //   reader.onloadend = function() {\r\n    //    callback(reader.result);\r\n    //  }\r\n     /// reader.readAsDataURL(xhr.response);\r\n   // };\r\n   // xhr.open('GET', url);\r\n   // xhr.responseType = 'blob';\r\n   // xhr.send();\r\n // }\r\n randomnumberGenerator(){\r\n  var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefgjijklmnopqrstuvwxyz0123456789\";\r\n    for(var i = 0; i < 10; i++)\r\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n      return text;\r\n}\r\n async submitPost(){\r\n    console.log('running');\r\n    this.auth.user$.subscribe(user =>{\r\n      this.post.usuario = JSON.stringify(user.userName);\r\n    \r\n   if(this.post.photo == ''){\r\n      this.loading.presentToast('Por favor adicione uma imagem');\r\n   }\r\n  else{\r\n    if(this.post.titulo == ''){\r\n   this.loading.presentToast('Por favor adicione um titulo')\r\n    }else{\r\n     if(this.post.ingredientes == ''){\r\n         this.loading.presentToast('Por favor adicione os ingredientes');\r\n      }else{\r\n         if(this.post.modopreparo == ''){\r\n        this.loading.presentToast('Por favor adicione o modo de preparo');\r\n          }else{\r\n           if(this.post.tipo == ''){\r\n             this.loading.presentToast('Por favor selecione a categoria');\r\n          }else{\r\n        // inserindo no firebase\r\n        firebase.database().ref('posts').push(this.post).then(res=>{\r\n           console.log('pushed', res);\r\n           this.navCtrl.navigateRoot('home');\r\n        });\r\n     }\r\n      }\r\n      }\r\n    }\r\n   }\r\n  })\r\n  const loading = await this.loadingCtrl.create({\r\n    message: 'Processando...',\r\n    spinner: 'bubbles',\r\n    cssClass: 'teste',\r\n    showBackdrop: true,\r\n    duration: 2000,\r\n  })\r\n  loading.present();\r\n \r\n}\r\n\r\n\r\n\r\n  async ngOnInit() {\r\n    await this.storage.create();\r\n  }\r\n}\r\n\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <link href=\\\"https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css\\\" rel=\\\"stylesheet\\\" />\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"home\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-img src=\\\"../assets/logo.png\\\" id=\\\"logo\\\"></ion-img>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"texto\\\">\\r\\n    <span>Poste sua Receita</span>\\r\\n  </div>\\r\\n  <div class=\\\"form\\\">\\r\\n    <ion-select interface=\\\"popover\\\" placeholder=\\\"Categoria\\\" clearInput [(ngModel)]=\\\"post.tipo\\\" cancelText=\\\"Cancelar\\\" okText=\\\"Ok\\\">\\r\\n      <ion-select-option value=\\\"lanches\\\">Lanches</ion-select-option>\\r\\n      <ion-select-option value=\\\"saladas\\\">Saladas</ion-select-option>\\r\\n      <ion-select-option value=\\\"massas\\\">Massas</ion-select-option>\\r\\n      <ion-select-option value=\\\"veganas\\\">Vegana</ion-select-option>\\r\\n    </ion-select>\\r\\n    <ion-input placeholder=\\\"Titulo\\\" clearInput [(ngModel)]=\\\"post.titulo\\\"></ion-input>\\r\\n    <ion-textarea placeholder=\\\"Ingredientes\\\" clearInput [(ngModel)]=\\\"post.ingredientes\\\"></ion-textarea>\\r\\n    <ion-textarea placeholder=\\\"Modo de Preparo\\\" clearInput [(ngModel)]=\\\"post.modopreparo\\\"></ion-textarea>\\r\\n  </div>\\r\\n  <span class=\\\"aviso\\\"><i class=\\\"icon ion-md-alert\\\"></i>Use a virgula para separar os ingredientes e o modo de preparo!</span>\\r\\n  <div class=\\\"wrapper\\\">\\r\\n      <div class=\\\"imgDiv\\\" (click)=\\\"openGalery()\\\" *ngIf=\\\"post.photo == '' \\\">\\r\\n        <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n      </div>\\r\\n      {{downloadUrl | async}}\\r\\n    <div *ngIf=\\\"post.photo != '' \\\">\\r\\n      <img class=\\\"img\\\" src=\\\"{{ post.photo }}\\\" />\\r\\n    </div>\\r\\n  </div>\\r\\n  <ion-button class=\\\"botaopostar\\\" color=\\\"body\\\" (click)=\\\"submitPost()\\\" expand=\\\"full\\\">Publicar</ion-button>\\r\\n</ion-content> \";"],"names":[],"sourceRoot":"webpack:///"}