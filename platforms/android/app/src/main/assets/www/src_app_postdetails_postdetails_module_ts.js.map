{"version":3,"file":"src_app_postdetails_postdetails_module_ts.js","mappings":"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","sources":["./src/app/postdetails/postdetails-routing.module.ts","./src/app/postdetails/postdetails.module.ts","./src/app/postdetails/postdetails.page.ts","./src/app/postdetails/postdetails.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostdetailsPage } from './postdetails.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostdetailsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostdetailsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostdetailsPageRoutingModule } from './postdetails-routing.module';\r\n\r\nimport { PostdetailsPage } from './postdetails.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostdetailsPageRoutingModule\r\n  ],\r\n  declarations: [PostdetailsPage]\r\n})\r\nexport class PostdetailsPageModule {}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport firebase from 'firebase/app';\r\nimport { AuthService } from '../services/auth.service';\r\nimport { ToastController } from '@ionic/angular';\r\n\r\n\r\n@Component({\r\n  selector: 'app-postdetails',\r\n  templateUrl: './postdetails.page.html',\r\n  styleUrls: ['./postdetails.page.scss'],\r\n})\r\nexport class PostdetailsPage implements OnInit {\r\n  \r\n  user: any;\r\n  post ={\r\n    id:'',\r\n    tipo: '',\r\n    usuario:'',\r\n    photo: '',\r\n    titulo: '',\r\n    ingredientes: '',\r\n    modopreparo: '',\r\n    nota: 0,\r\n    estrela1: 0,\r\n    estrela2: 0,\r\n    estrela3: 0,\r\n    estrela4: 0,\r\n    estrela5: 0,\r\n  }\r\n    \r\n  @Input() numStars: number = 5;\r\n  @Input() value: number = 1;\r\n  @Input() teste: number = 0;\r\n  @Output() ionClick: EventEmitter<number> = new EventEmitter<number>();\r\n\r\n  stars: string[] = [];\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private auth: AuthService,\r\n    private toastr: ToastController\r\n    ) \r\n    {\r\n\r\n      let data = this.activatedRoute.snapshot.params['data'];\r\n      console.log('reached = ', JSON.parse(data));\r\n\r\n      data = JSON.parse(data);\r\n      this.post.id = data.id;\r\n      this.post.tipo = data.tipo,\r\n      this.post.usuario = data.usuario;\r\n      this.post.photo = data.photo;\r\n      this.post.titulo = data.titulo;\r\n      this.post.ingredientes = data.ingredientes;\r\n      this.post.modopreparo = data.modopreparo;\r\n      this.post.estrela1 = data.estrela1;\r\n      this.post.estrela2 = data.estrela2;\r\n      this.post.estrela3 = data.estrela3;\r\n      this.post.estrela4 = data.estrela4;\r\n      this.post.estrela5 = data.estrela5;\r\n      this.post.nota = data.nota;\r\n     }\r\n\r\n\r\n     deletePost(){\r\n      this.toast('Solicitação de remoção enviada!, Excluiremos em breve', 'warning');\r\n    }\r\n\r\n\r\n    async toast(message,status){\r\n      const toast = await this.toastr.create({\r\n        message: message,\r\n        color: status,\r\n        position: 'top',\r\n        duration: 2000\r\n      });\r\n      toast.present();\r\n    } \r\n\r\n\r\n\r\n\r\n\r\n  ngOnInit() {\r\n   \r\n  }\r\n  ngAfterViewInit(){\r\n    this.calc();\r\n  }\r\n  calc(){\r\n    this.stars = [ \r\n    ];\r\n    let tmp = this.value;\r\n    for(let i=0; i< this.numStars; i++, tmp--){\r\n      if(tmp>=1){\r\n        this.stars.push(\"star\");\r\n        \r\n      }\r\n      else if(tmp>0 && tmp < 1){\r\n          this.stars.push(\"star-half\");\r\n      }\r\n      else{\r\n        this.stars.push(\"star-outline\");\r\n      }\r\n\r\n    }\r\n\r\n    let estrela = this.value;\r\n\r\n    let postRef = firebase.database().ref('posts/' + this.post.id);\r\n\r\n    if(estrela==1){\r\n      postRef.child('estrela1').set(this.post.estrela1++);\r\n      this.value=0;\r\n    }\r\n     if (estrela==2){\r\n      postRef.child('estrela2').set(this.post.estrela2++);\r\n      this.value=0;\r\n\r\n    }\r\n    if (estrela==3){\r\n      postRef.child('estrela3').set(this.post.estrela3++);\r\n      this.value=0;\r\n\r\n\r\n    }\r\n\r\n     if(estrela==4){\r\n      postRef.child('estrela4').set(this.post.estrela4++);\r\n      this.value=0;\r\n\r\n    }\r\n\r\n    if(estrela==5) { \r\n      postRef.child('estrela5').set(this.post.estrela5++);\r\n      this.value=0;\r\n\r\n    }\r\n\r\n console.log(this.value)\r\n    let porcentagem = (5 * this.post.estrela5 + 4 * this.post.estrela4 \r\n                      + 3 * this.post.estrela3 + 2 * this.post.estrela2 + this.post.estrela1 * 1) / (this.post.estrela5 + this.post.estrela4 + this.post.estrela3 + this.post.estrela2 + this.post.estrela1)\r\n    this.teste = parseFloat(porcentagem.toFixed(2));\r\n    postRef.child('nota').set(porcentagem.toFixed(2));\r\n\r\n  }\r\n  starClicked(index){\r\n    this.value = index + 1;\r\n    this.ionClick.emit(this.value)\r\n\r\n    this.calc();\r\n    //setar o valor de estrelas e usuari\r\n   \r\n\r\n\r\n}\r\nlog(value){\r\n  console.log(value);\r\n}\r\n  }\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <link href=\\\"https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css\\\" rel=\\\"stylesheet\\\" />\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"{{post.tipo}}\\\"></ion-back-button>\\r\\n      <ion-title>{{post.titulo}}</ion-title>\\r\\n      </ion-buttons>\\r\\n      <ion-icon name=\\\"trash-outline\\\"(click)=\\\"deletePost()\\\"></ion-icon>\\r\\n  </ion-toolbar>\\r\\n \\r\\n  \\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"conteudo\\\">\\r\\n    <img src=\\\"{{ post.photo }}\\\" class=\\\"img\\\">\\r\\n    <span class=\\\"titulo\\\">{{ post.titulo }}</span>\\r\\n    <span class=\\\"usuario\\\">Por: {{post.usuario}}</span>\\r\\n    <span class=\\\"nota\\\"> Avaliação: {{teste}}</span>\\r\\n    <img src=\\\"../assets/iconeingredientes.png\\\" class=\\\"imgingredientes\\\">\\r\\n    <p><i class=\\\"icon ion-md-restaurant\\\"></i>{{ post.ingredientes }}</p>\\r\\n    <img src=\\\"../assets/iconepreparo.png\\\" class=\\\"imgpreparo\\\">\\r\\n    <p><i class=\\\"icon ion-md-restaurant\\\"></i>{{ post.modopreparo }}</p>\\r\\n  </div>\\r\\n  <p class=\\\"avaliar\\\" style=\\\"text-align: center;\\\">Avaliar receita!</p>\\r\\n  <p style=\\\"text-align: center;\\\">{{post.rating}}</p>\\r\\n  <p style=\\\"text-align: center;\\\">{{post.usernumb}}</p>\\r\\n  <ion-grid class=\\\"ion-grid-container\\\">\\r\\n      <div class=\\\"rating-position\\\" *ngFor=\\\"let star of stars; let i = index;\\\" tappable (click)=\\\"starClicked(i)\\\">\\r\\n          <ion-icon [name]=\\\"star\\\"></ion-icon>\\r\\n      </div>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}