{"version":3,"file":"src_app_postdetails_postdetails_module_ts.js","mappings":"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","sources":["./src/app/postdetails/postdetails-routing.module.ts","./src/app/postdetails/postdetails.module.ts","./src/app/postdetails/postdetails.page.ts","./src/app/postdetails/postdetails.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PostdetailsPage } from './postdetails.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PostdetailsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PostdetailsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PostdetailsPageRoutingModule } from './postdetails-routing.module';\r\n\r\nimport { PostdetailsPage } from './postdetails.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PostdetailsPageRoutingModule\r\n  ],\r\n  declarations: [PostdetailsPage]\r\n})\r\nexport class PostdetailsPageModule {}\r\n","import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport firebase from 'firebase/app';\r\nimport { AngularFireAuth } from '@angular/fire/auth';\r\nimport { AuthService } from '../services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-postdetails',\r\n  templateUrl: './postdetails.page.html',\r\n  styleUrls: ['./postdetails.page.scss'],\r\n})\r\nexport class PostdetailsPage implements OnInit {\r\n  user: any;\r\n  post ={\r\n    id:'',\r\n    tipo: '',\r\n    usuario:'',\r\n    photo: '',\r\n    titulo: '',\r\n    ingredientes: '',\r\n    modopreparo: '',\r\n    rating: 0,\r\n  }\r\n\r\n  @Input() numStars: number = 5;\r\n  @Input() value: number = 1;\r\n  @Output() ionClick: EventEmitter<number> = new EventEmitter<number>();\r\n  stars: string[] = [];\r\n\r\n  constructor(\r\n    private activatedRoute: ActivatedRoute,\r\n    private auth: AuthService,\r\n\r\n    ) {\r\n\r\n      let data = this.activatedRoute.snapshot.params['data'];\r\n      console.log('reached = ', JSON.parse(data));\r\n\r\n      data = JSON.parse(data);\r\n      this.post.id = data.id;\r\n      this.post.tipo = data.tipo,\r\n      this.post.usuario = data.usuario;\r\n      this.post.photo = data.photo;\r\n      this.post.titulo = data.titulo;\r\n      this.post.ingredientes = data.ingredientes;\r\n      this.post.modopreparo = data.modopreparo;\r\n     }\r\n     deletePost(post){\r\n      console.log('post = ',post);\r\n      firebase.database().ref('posts/' + post.id).remove().then(res=>{\r\n        console.log('removed =', res);\r\n      })\r\n    }\r\n  ngOnInit() {\r\n   \r\n  }\r\n  ngAfterViewInit(){\r\n    this.calc();\r\n  }\r\n  calc(){\r\n    this.stars = [ \r\n    ];\r\n    let tmp = this.value;\r\n    for(let i=0; i< this.numStars; i++, tmp--){\r\n      if(tmp>=1){\r\n        this.stars.push(\"star\");\r\n        \r\n      }\r\n      else if(tmp>0 && tmp < 1){\r\n          this.stars.push(\"star-half\");\r\n      }\r\n      else{\r\n        this.stars.push(\"star-outline\");\r\n      }\r\n\r\n    }\r\n  }\r\n  starClicked(index){\r\n    this.value = index + 1;\r\n    console.log(this.value);\r\n\r\n    this.ionClick.emit(this.value+1)\r\n    this.calc();\r\n    this.post.rating = this.value;\r\n    firebase.database().ref('posts').push(this.post).then(res=>{\r\n      console.log('pushed', res);\r\n   });   \r\n\r\n\r\n\r\n  }\r\n  log(valor){\r\n    console.log(valor);\r\n  }\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <link href=\\\"https://unpkg.com/ionicons@4.5.10-0/dist/css/ionicons.min.css\\\" rel=\\\"stylesheet\\\" />\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"{{post.tipo}}\\\"></ion-back-button>\\r\\n      <ion-title>{{post.titulo}}</ion-title>\\r\\n      </ion-buttons>\\r\\n      <ion-icon name=\\\"trash-outline\\\"(click)=\\\"deletePost(post)\\\"></ion-icon>\\r\\n  </ion-toolbar>\\r\\n \\r\\n  \\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"conteudo\\\">\\r\\n    <img src=\\\"{{ post.photo }}\\\" class=\\\"img\\\">\\r\\n    <span class=\\\"titulo\\\">{{ post.titulo }}</span>\\r\\n    <span class=\\\"usuario\\\">Por: {{post.usuario}}</span>\\r\\n    <img src=\\\"../assets/iconeingredientes.png\\\" class=\\\"imgingredientes\\\">\\r\\n    <p><i class=\\\"icon ion-md-restaurant\\\"></i>{{ post.ingredientes }}</p>\\r\\n    <img src=\\\"../assets/iconepreparo.png\\\" class=\\\"imgpreparo\\\">\\r\\n    <p><i class=\\\"icon ion-md-restaurant\\\"></i>{{ post.modopreparo }}</p>\\r\\n  </div>\\r\\n  <p style=\\\"text-align: center;\\\">Avaliar receita!</p>\\r\\n\\r\\n  <ion-grid class=\\\"ion-grid-container\\\">\\r\\n      <div class=\\\"rating-position\\\" *ngFor=\\\"let star of stars; let i = index;\\\" tappable (click)=\\\"starClicked(i)\\\">\\r\\n          <ion-icon [name]=\\\"star\\\"></ion-icon>\\r\\n      </div>\\r\\n  </ion-grid>\\r\\n\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}